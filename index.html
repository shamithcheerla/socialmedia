<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MySocial - Modern Social Platform</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0a0a0a;
            color: #ffffff;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* 3D Background Canvas */
        #background-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: radial-gradient(circle at 50% 50%, #1a0033 0%, #000000 100%);
        }

        /* Navigation */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 70px;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 2rem;
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 800;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-link {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 500;
        }

        .nav-link:hover, .nav-link.active {
            color: #ffffff;
            background: rgba(102, 126, 234, 0.2);
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.3);
        }

        .hamburger {
            display: none;
            flex-direction: column;
            cursor: pointer;
            padding: 0.5rem;
        }

        .hamburger span {
            width: 25px;
            height: 2px;
            background: #ffffff;
            margin: 3px 0;
            transition: 0.3s;
        }

        /* Main Content */
        .main-content {
            margin-top: 70px;
            padding: 2rem;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
        }

        .page {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Glass Card */
        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            transition: all 0.3s ease;
            position: relative;
        }

        .glass-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(102, 126, 234, 0.2);
            border-color: rgba(102, 126, 234, 0.3);
        }

        /* Posts */
        .post {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            transition: all 0.3s ease;
        }

        .post:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }

        .post-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
        }

        .post-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: #ffffff;
        }

        .post-content {
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .post-actions {
            display: flex;
            gap: 1rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding-top: 1rem;
        }

        .action-btn {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.6);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 10px;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .action-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #ffffff;
        }

        .action-btn.liked {
            color: #ff6b6b;
        }

        .action-btn.bookmarked {
            color: #4ecdc4;
        }

        /* Forms */
        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 500;
        }

        .form-input, .form-textarea {
            width: 100%;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            color: #ffffff;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-input:focus, .form-textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            background: rgba(255, 255, 255, 0.15);
        }

        .form-textarea {
            resize: vertical;
            min-height: 120px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            color: white;
            padding: 1rem 2rem;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s ease;
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 30px rgba(102, 126, 234, 0.4);
        }

        /* Search */
        .search-container {
            position: relative;
            margin-bottom: 2rem;
        }

        .search-input {
            width: 100%;
            padding: 1rem 1rem 1rem 3rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            color: #ffffff;
            font-size: 1rem;
        }

        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: rgba(255, 255, 255, 0.5);
        }

        /* Comments */
        .comments {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .comment {
            background: rgba(0, 0, 0, 0.2);
            padding: 0.8rem;
            border-radius: 8px;
            margin-bottom: 0.5rem;
        }

        .comment-form {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .comment-input {
            flex: 1;
            padding: 0.5rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: #ffffff;
        }

        /* Messages */
        .messages-container {
            height: 400px;
            overflow-y: auto;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            padding: 1rem;
            margin-bottom: 1rem;
        }

        .message {
            margin-bottom: 1rem;
            padding: 0.8rem;
            border-radius: 12px;
            max-width: 80%;
        }

        .message.sent {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin-left: auto;
            text-align: right;
        }

        .message.received {
            background: rgba(255, 255, 255, 0.1);
        }

        .message-form {
            display: flex;
            gap: 0.5rem;
        }

        /* Notifications */
        .notification {
            background: rgba(255, 255, 255, 0.05);
            border-left: 4px solid #667eea;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
        }

        .notification:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .notification.unread {
            border-left-color: #4ecdc4;
            background: rgba(78, 205, 196, 0.1);
        }

        /* Profile */
        .profile-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .profile-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            font-weight: bold;
            margin: 0 auto 1rem;
            box-shadow: 0 20px 40px rgba(102, 126, 234, 0.3);
        }

        .profile-name {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .profile-bio {
            color: rgba(255, 255, 255, 0.7);
            max-width: 500px;
            margin: 0 auto;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
                position: fixed;
                top: 70px;
                left: 0;
                right: 0;
                background: rgba(0, 0, 0, 0.95);
                backdrop-filter: blur(20px);
                flex-direction: column;
                padding: 2rem;
                gap: 1rem;
            }

            .nav-links.show {
                display: flex;
            }

            .hamburger {
                display: flex;
            }

            .main-content {
                padding: 1rem;
            }

            .navbar {
                padding: 0 1rem;
            }

            .post-actions {
                flex-wrap: wrap;
            }
        }

        /* Loading animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #667eea;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(102, 126, 234, 0.5);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(102, 126, 234, 0.7);
        }
    </style>
</head>
<body>
    <!-- 3D Animated Background -->
    <canvas id="background-canvas"></canvas>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="logo">LYNQ</div>
        <ul class="nav-links" id="navLinks">
            <li><a href="#" class="nav-link active" data-page="home">🏠 Home</a></li>
            <li><a href="#" class="nav-link" data-page="explore">🔍 Explore</a></li>
            <li><a href="#" class="nav-link" data-page="create">➕ Create</a></li>
            <li><a href="#" class="nav-link" data-page="notifications">🔔 Notifications</a></li>
            <li><a href="#" class="nav-link" data-page="messages">✉️ Messages</a></li>
            <li><a href="#" class="nav-link" data-page="bookmarks">🔖 Bookmarks</a></li>
            <li><a href="#" class="nav-link" data-page="profile">👤 Profile</a></li>
        </ul>
        <div class="hamburger" id="hamburger">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Home Page -->
        <div class="page active" id="home">
            <h1 style="text-align: center; margin-bottom: 2rem; font-size: 2.5rem; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Welcome to MySocial</h1>
            <div id="feed"></div>
        </div>

        <!-- Explore Page -->
        <div class="page" id="explore">
            <h1 style="text-align: center; margin-bottom: 2rem; font-size: 2.5rem;">Explore Posts</h1>
            <div class="glass-card">
                <div class="search-container">
                    <span class="search-icon">🔍</span>
                    <input type="text" class="search-input" id="searchInput" placeholder="Search posts...">
                </div>
            </div>
            <div id="exploreFeed"></div>
        </div>

        <!-- Create Page -->
        <div class="page" id="create">
            <h1 style="text-align: center; margin-bottom: 2rem; font-size: 2.5rem;">Create New Post</h1>
            <div class="glass-card">
                <form id="createPostForm">
                    <div class="form-group">
                        <label class="form-label">Title</label>
                        <input type="text" class="form-input" id="postTitle" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Content</label>
                        <textarea class="form-textarea" id="postContent" required></textarea>
                    </div>
                    <button type="submit" class="btn-primary">Create Post ✨</button>
                </form>
            </div>
        </div>

        <!-- Notifications Page -->
        <div class="page" id="notifications">
            <h1 style="text-align: center; margin-bottom: 2rem; font-size: 2.5rem;">Notifications</h1>
            <div id="notificationsList"></div>
        </div>

        <!-- Messages Page -->
        <div class="page" id="messages">
            <h1 style="text-align: center; margin-bottom: 2rem; font-size: 2.5rem;">Messages</h1>
            <div class="glass-card">
                <div class="messages-container" id="messagesContainer"></div>
                <form class="message-form" id="messageForm">
                    <input type="text" class="comment-input" id="messageInput" placeholder="Type a message..." required>
                    <button type="submit" class="btn-primary">Send</button>
                </form>
            </div>
        </div>

        <!-- Bookmarks Page -->
        <div class="page" id="bookmarks">
            <h1 style="text-align: center; margin-bottom: 2rem; font-size: 2.5rem;">Bookmarked Posts</h1>
            <div id="bookmarksFeed"></div>
        </div>

        <!-- Profile Page -->
        <div class="page" id="profile">
            <div class="glass-card">
                <div class="profile-header">
                    <div class="profile-avatar">CHS</div>
                    <h1 class="profile-name">ChShamith</h1>
                    <p class="profile-bio">Welcome to my profile! I love sharing thoughts and connecting with amazing people on MySocial. ✨</p>
                </div>
            </div>
            <h2 style="margin-bottom: 1rem;">My Posts</h2>
            <div id="userPosts"></div>
        </div>
    </div>

    <script>
        // Global state
        let posts = [
            {
                id: 1,
                title: "Welcome to MySocial! 🎉",
                content: "This is an amazing social media platform with beautiful 3D animations and glassmorphism design. Feel free to explore all the features!",
                author: "MySocial Team",
                likes: 15,
                liked: false,
                bookmarked: false,
                comments: [
                    { author: "Alice", content: "Love the design! So modern and sleek." },
                    { author: "Bob", content: "The animations are incredible!" }
                ]
            },
            {
                id: 2,
                title: "Beautiful sunset today 🌅",
                content: "Caught this amazing sunset while walking by the beach. Nature never fails to amaze me with its beauty and serenity.",
                author: "Nature Lover",
                likes: 8,
                liked: false,
                bookmarked: false,
                comments: []
            },
            {
                id: 3,
                title: "Learning JavaScript 📚",
                content: "Just finished a great tutorial on modern JavaScript. The possibilities with ES6+ features are endless! Excited to build more projects.",
                author: "Code Enthusiast",
                likes: 12,
                liked: false,
                bookmarked: false,
                comments: [
                    { author: "Developer", content: "Keep it up! JavaScript is amazing." }
                ]
            }
        ];

        let notifications = [
            { id: 1, message: "Alice liked your post 'Welcome to MySocial! 🎉'", unread: true },
            { id: 2, message: "Bob commented on your post", unread: true },
            { id: 3, message: "You have 3 new followers", unread: false },
            { id: 4, message: "Your post was shared 5 times", unread: false }
        ];

        let messages = [
            { id: 1, content: "Hey! Welcome to MySocial!", sent: false },
            { id: 2, content: "Thanks! This platform looks amazing.", sent: true },
            { id: 3, content: "I love the 3D background animations!", sent: false },
            { id: 4, content: "The glassmorphism design is so modern!", sent: true }
        ];

        let currentUser = "Ch Shamith";

        // 3D Background Animation
        function init3DBackground() {
            const canvas = document.getElementById('background-canvas');
            const ctx = canvas.getContext('2d');
            
            function resize() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }
            
            resize();
            window.addEventListener('resize', resize);

            const particles = [];
            const particleCount = 100;
            let mouseX = 0;
            let mouseY = 0;

            // Create particles
            for (let i = 0; i < particleCount; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    z: Math.random() * 1000,
                    vx: (Math.random() - 0.5) * 0.5,
                    vy: (Math.random() - 0.5) * 0.5,
                    vz: (Math.random() - 0.5) * 2,
                    size: Math.random() * 3 + 1,
                    hue: Math.random() * 60 + 200
                });
            }

            // Mouse move handler
            document.addEventListener('mousemove', (e) => {
                mouseX = e.clientX / window.innerWidth - 0.5;
                mouseY = e.clientY / window.innerHeight - 0.5;
            });

            function animate() {
                ctx.fillStyle = 'rgba(10, 10, 10, 0.05)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                particles.forEach((particle, index) => {
                    // Update particle position
                    particle.x += particle.vx + mouseX * 0.5;
                    particle.y += particle.vy + mouseY * 0.5;
                    particle.z += particle.vz;

                    // Reset particle if it goes out of bounds
                    if (particle.z > 1000) {
                        particle.z = 0;
                        particle.x = Math.random() * canvas.width;
                        particle.y = Math.random() * canvas.height;
                    }

                    if (particle.x < 0 || particle.x > canvas.width) {
                        particle.x = Math.max(0, Math.min(canvas.width, particle.x));
                        particle.vx *= -1;
                    }

                    if (particle.y < 0 || particle.y > canvas.height) {
                        particle.y = Math.max(0, Math.min(canvas.height, particle.y));
                        particle.vy *= -1;
                    }

                    // 3D projection
                    const scale = 200 / (200 + particle.z);
                    const x2d = particle.x * scale;
                    const y2d = particle.y * scale;
                    const size = particle.size * scale;

                    // Draw particle with glow effect
                    const alpha = 1 - (particle.z / 1000);
                    
                    // Outer glow
                    const gradient = ctx.createRadialGradient(x2d, y2d, 0, x2d, y2d, size * 3);
                    gradient.addColorStop(0, `hsla(${particle.hue}, 70%, 60%, ${alpha * 0.3})`);
                    gradient.addColorStop(1, 'transparent');
                    
                    ctx.fillStyle = gradient;
                    ctx.beginPath();
                    ctx.arc(x2d, y2d, size * 3, 0, Math.PI * 2);
                    ctx.fill();

                    // Core particle
                    ctx.fillStyle = `hsla(${particle.hue}, 70%, 80%, ${alpha})`;
                    ctx.beginPath();
                    ctx.arc(x2d, y2d, size, 0, Math.PI * 2);
                    ctx.fill();
                });

                // Draw connections between nearby particles
                for (let i = 0; i < particles.length; i++) {
                    for (let j = i + 1; j < particles.length; j++) {
                        const dx = particles[i].x - particles[j].x;
                        const dy = particles[i].y - particles[j].y;
                        const distance = Math.sqrt(dx * dx + dy * dy);

                        if (distance < 100) {
                            const alpha = 1 - (distance / 100);
                            ctx.strokeStyle = `rgba(102, 126, 234, ${alpha * 0.2})`;
                            ctx.lineWidth = 1;
                            ctx.beginPath();
                            ctx.moveTo(particles[i].x, particles[i].y);
                            ctx.lineTo(particles[j].x, particles[j].y);
                            ctx.stroke();
                        }
                    }
                }

                requestAnimationFrame(animate);
            }

            animate();
        }

        // Navigation
        function initNavigation() {
            const navLinks = document.querySelectorAll('.nav-link');
            const pages = document.querySelectorAll('.page');
            const hamburger = document.getElementById('hamburger');
            const navLinksContainer = document.getElementById('navLinks');

            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    
                    const targetPage = link.dataset.page;
                    
                    // Update active nav link
                    navLinks.forEach(l => l.classList.remove('active'));
                    link.classList.add('active');
                    
                    // Show target page
                    pages.forEach(page => page.classList.remove('active'));
                    document.getElementById(targetPage).classList.add('active');
                    
                    // Close mobile menu
                    navLinksContainer.classList.remove('show');
                    
                    // Load page content
                    loadPageContent(targetPage);
                });
            });

            // Mobile menu toggle
            hamburger.addEventListener('click', () => {
                navLinksContainer.classList.toggle('show');
            });
        }

        // Post rendering
        function renderPost(post) {
            return `
                <div class="post" data-id="${post.id}">
                    <div class="post-header">
                        <div class="avatar">${post.author.charAt(0).toUpperCase()}</div>
                        <div>
                            <div style="font-weight: 600;">${post.author}</div>
                            <div style="font-size: 0.8rem; color: rgba(255,255,255,0.5);">${new Date().toLocaleDateString()}</div>
                        </div>
                    </div>
                    <div class="post-title">${post.title}</div>
                    <div class="post-content">${post.content}</div>
                    <div class="post-actions">
                        <button class="action-btn like-btn ${post.liked ? 'liked' : ''}" data-id="${post.id}">
                            ❤️ <span class="like-count">${post.likes}</span>
                        </button>
                        <button class="action-btn comment-btn" data-id="${post.id}">
                            💬 ${post.comments.length}
                        </button>
                        <button class="action-btn bookmark-btn ${post.bookmarked ? 'bookmarked' : ''}" data-id="${post.id}">
                            🔖
                        </button>
                        <button class="action-btn share-btn" data-id="${post.id}">
                            🔗 Share
                        </button>
                    </div>
                    <div class="comments" style="display: ${post.comments.length > 0 ? 'block' : 'none'}">
                        ${post.comments.map(comment => `
                            <div class="comment">
                                <strong>${comment.author}:</strong> ${comment.content}
                            </div>
                        `).join('')}
                    </div>
                    <div class="comment-form">
                        <input type="text" class="comment-input" placeholder="Add a comment..." data-id="${post.id}">
                        <button class="btn-primary" onclick="addComment(${post.id})">Post</button>
                    </div>
                </div>
            `;
        }

        // Post interactions
        function initPostInteractions() {
            document.addEventListener('click', (e) => {
                if (e.target.classList.contains('like-btn') || e.target.parentElement.classList.contains('like-btn')) {
                    const btn = e.target.classList.contains('like-btn') ? e.target : e.target.parentElement;
                    const postId = parseInt(btn.dataset.id);
                    toggleLike(postId);
                }
                
                if (e.target.classList.contains('bookmark-btn') || e.target.parentElement.classList.contains('bookmark-btn')) {
                    const btn = e.target.classList.contains('bookmark-btn') ? e.target : e.target.parentElement;
                    const postId = parseInt(btn.dataset.id);
                    toggleBookmark(postId);
                }
                
                if (e.target.classList.contains('share-btn') || e.target.parentElement.classList.contains('share-btn')) {
                    const btn = e.target.classList.contains('share-btn') ? e.target : e.target.parentElement;
                    const postId = parseInt(btn.dataset.id);
                    sharePost(postId);
                }
                
                if (e.target.classList.contains('comment-btn') || e.target.parentElement.classList.contains('comment-btn')) {
                    const btn = e.target.classList.contains('comment-btn') ? e.target : e.target.parentElement;
                    const postId = parseInt(btn.dataset.id);
                    toggleComments(postId);
                }
            });
        }

        function toggleLike(postId) {
            const post = posts.find(p => p.id === postId);
            if (post) {
                post.liked = !post.liked;
                post.likes += post.liked ? 1 : -1;
                updatePostDisplay(postId);
                
                // Add notification
                if (post.liked) {
                    notifications.unshift({
                        id: Date.now(),
                        message: `You liked "${post.title}"`,
                        unread: true
                    });
                }
            }
        }

        function toggleBookmark(postId) {
            const post = posts.find(p => p.id === postId);
            if (post) {
                post.bookmarked = !post.bookmarked;
                updatePostDisplay(postId);
                
                notifications.unshift({
                    id: Date.now(),
                    message: post.bookmarked ? `Post "${post.title}" bookmarked` : `Post "${post.title}" removed from bookmarks`,
                    unread: true
                });
            }
        }

        function sharePost(postId) {
            const post = posts.find(p => p.id === postId);
            if (post && navigator.share) {
                navigator.share({
                    title: post.title,
                    text: post.content,
                    url: window.location.href
                });
            } else {
                // Fallback - copy to clipboard
                navigator.clipboard.writeText(`${post.title}\n${post.content}\n\n${window.location.href}`);
                showToast('Post copied to clipboard!');
            }
        }

        function toggleComments(postId) {
            const postElement = document.querySelector(`[data-id="${postId}"]`);
            const commentsSection = postElement.querySelector('.comments');
            const isVisible = commentsSection.style.display !== 'none';
            commentsSection.style.display = isVisible ? 'none' : 'block';
        }

        function addComment(postId) {
            const input = document.querySelector(`.comment-input[data-id="${postId}"]`);
            const content = input.value.trim();
            
            if (content) {
                const post = posts.find(p => p.id === postId);
                if (post) {
                    post.comments.push({
                        author: currentUser,
                        content: content
                    });
                    input.value = '';
                    updatePostDisplay(postId);
                    
                    notifications.unshift({
                        id: Date.now(),
                        message: `You commented on "${post.title}"`,
                        unread: true
                    });
                }
            }
        }

        function updatePostDisplay(postId) {
            const postElement = document.querySelector(`[data-id="${postId}"]`);
            const post = posts.find(p => p.id === postId);
            
            if (postElement && post) {
                // Update like button
                const likeBtn = postElement.querySelector('.like-btn');
                const likeCount = likeBtn.querySelector('.like-count');
                likeBtn.classList.toggle('liked', post.liked);
                likeCount.textContent = post.likes;
                
                // Update bookmark button
                const bookmarkBtn = postElement.querySelector('.bookmark-btn');
                bookmarkBtn.classList.toggle('bookmarked', post.bookmarked);
                
                // Update comment count
                const commentBtn = postElement.querySelector('.comment-btn');
                commentBtn.innerHTML = `💬 ${post.comments.length}`;
                
                // Update comments section
                const commentsSection = postElement.querySelector('.comments');
                commentsSection.innerHTML = post.comments.map(comment => `
                    <div class="comment">
                        <strong>${comment.author}:</strong> ${comment.content}
                    </div>
                `).join('');
                commentsSection.style.display = post.comments.length > 0 ? 'block' : 'none';
            }
        }

        // Page content loading
        function loadPageContent(page) {
            switch(page) {
                case 'home':
                    renderFeed('feed', posts);
                    break;
                case 'explore':
                    renderFeed('exploreFeed', posts);
                    initSearch();
                    break;
                case 'create':
                    initCreateForm();
                    break;
                case 'notifications':
                    renderNotifications();
                    break;
                case 'messages':
                    renderMessages();
                    initMessageForm();
                    break;
                case 'bookmarks':
                    const bookmarkedPosts = posts.filter(p => p.bookmarked);
                    renderFeed('bookmarksFeed', bookmarkedPosts);
                    break;
                case 'profile':
                    renderUserPosts();
                    break;
            }
        }

        function renderFeed(containerId, feedPosts) {
            const container = document.getElementById(containerId);
            if (container) {
                container.innerHTML = feedPosts.length > 0 
                    ? feedPosts.map(post => renderPost(post)).join('')
                    : '<div class="glass-card" style="text-align: center; color: rgba(255,255,255,0.6);">No posts to display</div>';
            }
        }

        function initSearch() {
            const searchInput = document.getElementById('searchInput');
            if (searchInput) {
                searchInput.addEventListener('input', (e) => {
                    const query = e.target.value.toLowerCase().trim();
                    const filteredPosts = query 
                        ? posts.filter(post => 
                            post.title.toLowerCase().includes(query) || 
                            post.content.toLowerCase().includes(query) ||
                            post.author.toLowerCase().includes(query)
                          )
                        : posts;
                    renderFeed('exploreFeed', filteredPosts);
                });
            }
        }

        function initCreateForm() {
            const form = document.getElementById('createPostForm');
            if (form) {
                form.addEventListener('submit', (e) => {
                    e.preventDefault();
                    
                    const title = document.getElementById('postTitle').value.trim();
                    const content = document.getElementById('postContent').value.trim();
                    
                    if (title && content) {
                        const newPost = {
                            id: Date.now(),
                            title: title,
                            content: content,
                            author: currentUser,
                            likes: 0,
                            liked: false,
                            bookmarked: false,
                            comments: []
                        };
                        
                        posts.unshift(newPost);
                        
                        // Reset form
                        document.getElementById('postTitle').value = '';
                        document.getElementById('postContent').value = '';
                        
                        // Show success message
                        showToast('Post created successfully! 🎉');
                        
                        // Add notification
                        notifications.unshift({
                            id: Date.now(),
                            message: `You created a new post: "${title}"`,
                            unread: true
                        });
                        
                        // Redirect to home
                        setTimeout(() => {
                            document.querySelector('[data-page="home"]').click();
                        }, 1500);
                    }
                });
            }
        }

        function renderNotifications() {
            const container = document.getElementById('notificationsList');
            if (container) {
                container.innerHTML = notifications.length > 0
                    ? notifications.map(notification => `
                        <div class="notification ${notification.unread ? 'unread' : ''}" data-id="${notification.id}">
                            <div>${notification.message}</div>
                            <div style="font-size: 0.8rem; color: rgba(255,255,255,0.5); margin-top: 0.5rem;">
                                ${new Date().toLocaleTimeString()}
                            </div>
                        </div>
                    `).join('')
                    : '<div class="glass-card" style="text-align: center; color: rgba(255,255,255,0.6);">No notifications</div>';
                
                // Mark notifications as read when viewed
                setTimeout(() => {
                    notifications.forEach(n => n.unread = false);
                }, 1000);
            }
        }

        function renderMessages() {
            const container = document.getElementById('messagesContainer');
            if (container) {
                container.innerHTML = messages.map(message => `
                    <div class="message ${message.sent ? 'sent' : 'received'}">
                        ${message.content}
                    </div>
                `).join('');
                container.scrollTop = container.scrollHeight;
            }
        }

        function initMessageForm() {
            const form = document.getElementById('messageForm');
            if (form) {
                form.addEventListener('submit', (e) => {
                    e.preventDefault();
                    
                    const input = document.getElementById('messageInput');
                    const content = input.value.trim();
                    
                    if (content) {
                        messages.push({
                            id: Date.now(),
                            content: content,
                            sent: true
                        });
                        
                        input.value = '';
                        renderMessages();
                        
                        // Simulate received message
                        setTimeout(() => {
                            const responses = [
                                "That's awesome! 😊",
                                "Thanks for sharing!",
                                "Interesting perspective!",
                                "I totally agree!",
                                "Tell me more about that!"
                            ];
                            
                            messages.push({
                                id: Date.now(),
                                content: responses[Math.floor(Math.random() * responses.length)],
                                sent: false
                            });
                            renderMessages();
                        }, 1000 + Math.random() * 2000);
                    }
                });
            }
        }

        function renderUserPosts() {
            const userPosts = posts.filter(post => post.author === currentUser);
            renderFeed('userPosts', userPosts);
        }

        // Toast notifications
        function showToast(message) {
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                top: 90px;
                right: 20px;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 1rem 2rem;
                border-radius: 12px;
                box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
                z-index: 10000;
                font-weight: 600;
                animation: slideIn 0.3s ease;
            `;
            
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideIn {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
                @keyframes slideOut {
                    from { transform: translateX(0); opacity: 1; }
                    to { transform: translateX(100%); opacity: 0; }
                }
            `;
            document.head.appendChild(style);
            
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    document.body.removeChild(toast);
                    document.head.removeChild(style);
                }, 300);
            }, 3000);
        }

        // Initialize app
        document.addEventListener('DOMContentLoaded', () => {
            init3DBackground();
            initNavigation();
            initPostInteractions();
            loadPageContent('home');
            
            // Add some dynamic behavior
            setInterval(() => {
                // Randomly add likes to posts
                const randomPost = posts[Math.floor(Math.random() * posts.length)];
                if (Math.random() < 0.1 && !randomPost.liked) {
                    randomPost.likes += Math.floor(Math.random() * 3) + 1;
                    updatePostDisplay(randomPost.id);
                }
            }, 5000);
            
            console.log('🎉 MySocial initialized successfully!');
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey || e.metaKey) {
                switch(e.key) {
                    case '1':
                        e.preventDefault();
                        document.querySelector('[data-page="home"]').click();
                        break;
                    case '2':
                        e.preventDefault();
                        document.querySelector('[data-page="explore"]').click();
                        break;
                    case '3':
                        e.preventDefault();
                        document.querySelector('[data-page="create"]').click();
                        break;
                    case '4':
                        e.preventDefault();
                        document.querySelector('[data-page="notifications"]').click();
                        break;
                    case '5':
                        e.preventDefault();
                        document.querySelector('[data-page="messages"]').click();
                        break;
                }
            }
        });

        // Service Worker for PWA capabilities (optional)
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                // You can register a service worker here for PWA functionality
                console.log('Service Worker support detected');
            });
        }
    </script>
</body>
</html>
